#-------------------------------------------------------------------------------
# Mirakel is an Android App for Managing your ToDo-Lists
#
# Copyright (c) 2013-2015 Anatolij Zelenin, Georg Semmler.
#
#     This program is free software: you can redistribute it and/or modify
#     it under the terms of the GNU General Public License as published by
#     the Free Software Foundation, either version 3 of the License, or
#     any later version.
#
#     This program is distributed in the hope that it will be useful,
#     but WITHOUT ANY WARRANTY; without even the implied warranty of
#     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#     GNU General Public License for more details.
#
#     You should have received a copy of the GNU General Public License
#     along with this program.  If not, see <http://www.gnu.org/licenses/>.
#-------------------------------------------------------------------------------
# This is a configuration file for ProGuard.
# http://proguard.sourceforge.net/index.html#manual/usage.html

# Optimizations: If you don't want to optimize, use the
# proguard-android.txt configuration file instead of this one, which
# turns off the optimization flags.  Adding optimization introduces
# certain risks, since for example not all optimizations performed by
# ProGuard works on all versions of Dalvik.  The following flags turn
# off various optimizations known to have issues, but the list may not
# be complete or up to date. (The "arithmetic" optimization can be
# used if you are only targeting Android 2.0 or later.)  Make sure you
# test thoroughly if you go this route.
#-optimizations !code/simplification/arithmetic,!code/simplification/cast,!field/*,!class/merging/*
-optimizationpasses 5
-allowaccessmodification
-dontpreverify

#custom
-ignorewarnings
-dontobfuscate
-dontwarn


-dontusemixedcaseclassnames
-dontskipnonpubliclibraryclasses
-verbose

-keepattributes *Annotation*
-keep public class com.google.vending.licensing.ILicensingService
-keep public class com.android.vending.licensing.ILicensingService

# Butterknife
-dontwarn butterknife.internal.**
-keep class butterknife.** { *; }
-keep class **$$ViewInjector { *; }

-keepclasseswithmembernames class * {
        @butterknife.InjectView <fields>;
}

-keepclasseswithmembernames class * {
        @butterknife.OnClick <methods>;
        @butterknife.OnEditorAction <methods>;
        @butterknife.OnItemClick <methods>;
        @butterknife.OnItemLongClick <methods>;
        @butterknife.OnLongClick <methods>;
}

#keep constructors of models

-keepclasseswithmembers class *{
    public <init>(de.azapps.mirakel.model.query_builder.CursorGetter);
}

-keep public class de.azapps.mirakel.model.list.meta.** {
  public *;
}

-keep public class de.azapps.mirakel.widget.MainWidgetProvider {
    public static void update(*);
}

# For native methods, see http://proguard.sourceforge.net/manual/examples.html#native
-keepclasseswithmembernames class * {
    native <methods>;
}

# keep setters in Views so that animations can still work.
# see http://proguard.sourceforge.net/manual/examples.html#beans
-keepclassmembers public class * extends android.view.View {
   void set*(***);
   *** get*();
}


# For enumeration classes, see http://proguard.sourceforge.net/manual/examples.html#enumerations
-keepclassmembers enum * {
    public static **[] values();
    public static ** valueOf(java.lang.String);
}



-keep class * implements android.os.Parcelable {
  public static final android.os.Parcelable$Creator *;
}



-keepclassmembers class **.R$* {
    public static <fields>;
}

-keep class android.support.v7.internal.view.menu.MenuBuilder {
      void setOptionalIconsVisible(boolean);
}

-keep class !android.support.v7.internal.view.menu.**,** {*;}

# The support library contains references to newer platform versions.
# Don't warn about those in case this app is linking against an older
# platform version.  We know about them, and they are safe.
-dontwarn android.support.**
#Fix for samsung menubuilder bug
-repackageclasses
